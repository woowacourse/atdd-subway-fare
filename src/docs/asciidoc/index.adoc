:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 3
:sectlinks:

[[introduction]]
== 개요

김김의 지하철 협업 미션 API docs입니다.

=== 인증 및 인가
회원에게만 제공되는 서비스의 API를 요청할 경우, 로그인 요청을 통해 발급받은 'Access Token'을 'Authorization' 헤더에 첨부해주셔야 합니다.

유효하지 않을 경우, 다음과 같이 응답합니다.

include::{snippets}/invalid-token/http-response.adoc[]

=== 응답 거절 형식

400 ~ 500번대의 요청을 모종의 사유로 거절할 때, 그 사유를 'message'키에 담아 JSON 객체로 응답합니다.

예시)
include::{snippets}/station-create-fail-duplicate-name/http-response.adoc[]

[[Member]]
== 회원 관련 API

=== 로그인
Request
include::{snippets}/login/http-request.adoc[]

Response
include::{snippets}/login/http-response.adoc[]

Response: 잘못된 정보 기입
include::{snippets}/login-fail-wrong-information/http-response.adoc[]


[[Station]]
== 역 관련 API

=== 지하철 역 생성
Request
include::{snippets}/station-create/http-request.adoc[]
Response
include::{snippets}/station-create/http-response.adoc[]
Response: 중복된 역 이름으로 인한 요청 거절
include::{snippets}/station-create-fail-duplicate-name/http-response.adoc[]

=== 지하철 역 목록 조회
Request
include::{snippets}/stations-read/http-request.adoc[]
Response
include::{snippets}/stations-read/http-response.adoc[]

=== 지하철 역 삭제
Request
include::{snippets}/station-delete/http-request.adoc[]
Response
include::{snippets}/station-delete/http-response.adoc[]

[[Line]]
== 노선 관련 API

=== 노선 생성
Request
include::{snippets}/line-create/http-request.adoc[]
Response
include::{snippets}/line-create/http-response.adoc[]
Response: 중복된 노선 이름으로 인한 요청 거절

=== 노선 조회
Request
include::{snippets}/line-read/http-request.adoc[]
Response
include::{snippets}/line-read/http-response.adoc[]

=== 노선 목록 조회
Request
include::{snippets}/lines-read/http-request.adoc[]
Response
include::{snippets}/lines-read/http-response.adoc[]

=== 노선 수정
Request
include::{snippets}/line-update/http-request.adoc[]
Response
include::{snippets}/line-update/http-response.adoc[]

=== 노선 삭제
Request
include::{snippets}/line-delete/http-request.adoc[]
Response
include::{snippets}/line-delete/http-response.adoc[]

=== 노선에 역 추가
Request
include::{snippets}/section-create/http-request.adoc[]
Response
include::{snippets}/section-create/http-response.adoc[]
Response: 생성하고자 하는 상, 하행역이 이미 노선에 등록되어 있어 요청 거절
include::{snippets}/section-create-fail-duplicate-stations/http-response.adoc[]
Response: 생성하고자 하는 상, 하행역이 모두 노선에 등록되어 있지 않아 요청 거절
include::{snippets}/section-create-fail-unregistered-stations/http-response.adoc[]


=== 노선에서 역 삭제
Request
include::{snippets}/section-delete/http-request.adoc[]
Response
include::{snippets}/section-delete/http-response.adoc[]
Response: 노선에 등록된 역이 2개 이하일 때 삭제 요청 거절
include::{snippets}/section-delete-fail-minimum-number/http-response.adoc[]